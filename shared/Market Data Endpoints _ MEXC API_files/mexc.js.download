(()=>{"use strict"
function t(t,e,r,n){this.versionId=t,this.clientId=e,this.firstVisit=r,this.lastVisit=n}function e(){this.storage=window.localStorage}function r(){this.storageService=new e}t.prototype.updateAccess=function(){return this.lastVisit=new Date,this},t.prototype.toString=function(){return this.versionId+":"+this.clientId+":"+this.firstVisit.getTime()+":"+this.lastVisit.getTime()},e.prototype.setItem=function(t,e){return this.storage.setItem(t,e),this},e.prototype.getItem=function(t){return this.storage.getItem(t)}
var n="cpg_mexc_usr"
r.prototype.updateAndSaveAccess=function(t){return t.updateAccess(),this.storageService.setItem(n,t.toString()),t},r.prototype.feedDataToEndpoint=function(t,e){return e.feedData("usr",t.toString()),e}
var i=new RegExp("^v[0-2].[0-9]:\\d+:\\d+:\\d+$","i")
function a(t,e,r,n){this.availHeight=n,this.availWidth=r,this.height=e,this.width=t}function o(t,e,r){this.pageTop=r,this.height=e,this.width=t}function s(){}function c(t,e,r){this.hostname=t,this.location=e,this.referrer=r}function p(){}function u(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]
if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return
if("string"==typeof t)return h(t,e)
var r=Object.prototype.toString.call(t).slice(8,-1)
"Object"===r&&t.constructor&&(r=t.constructor.name)
if("Map"===r||"Set"===r)return Array.from(t)
if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r)
var n=0,i=function(){}
return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1
return{s:function(){r=r.call(t)},n:function(){var t=r.next()
return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length)
for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r]
return n}function d(){this.reportProperties=[]}function f(t,e){this.propertyValue=e,this.propertyName=t}r.prototype.parseAccessData=function(e){var r,n,a,o
if(e&&e.length>0&&i.test(e)){var s=e.split(":")
a=s[0],o=s[1],r=new Date(parseInt(s[2])),n=new Date(parseInt(s[2]))}else{a=function(){return"v0.1"}(),o=function(){return Math.floor(1e10*(1+Math.random())).toString(10)}(),r=new Date,n=new Date}return new t(a,o,r,n)},r.prototype.collectAndParseAccessData=function(){var t=this.storageService.getItem(n)
return this.parseAccessData(t)},a.prototype.toString=function(){return this.width+"x"+this.height+"|"+this.availWidth+"x"+this.availHeight},o.prototype.toString=function(){return this.width+"x"+this.height+"|"+this.pageTop},s.prototype.collectAndParseViewportData=function(){var t=window.visualViewport
return new o(t.width,t.height,t.pageTop)},s.prototype.collectAndParseResolutionData=function(){var t=window.screen
return new a(t.width,t.height,t.availWidth,t.availHeight)},s.prototype.feedDataToEndpoint=function(t,e,r){return r.feedData("scr",t.toString()),r.feedData("scv",e.toString()),r},p.prototype.collectAndParsePageData=function(){var t=document.referrer
return new c(document.location.hostname,document.location.href,t)},p.prototype.feedDataToEndpoint=function(t,e){return e.feedData("pgh",t.hostname),e.feedData("pgl",t.location),e.feedData("pgr",t.referrer),e},d.prototype.feedData=function(t,e){this.reportProperties.push(new f(t,e))}
function l(){this.accessDataService=new r,this.screenDataService=new s,this.pageDataService=new p}d.prototype.mountEndpoint=function(){var t,e=new URL("/pageview/mexc","https://adscool.net"),r=u(this.reportProperties)
try{for(r.s();!(t=r.n()).done;){var n=t.value
e.searchParams.set(n.propertyName,n.propertyValue)}}catch(t){r.e(t)}finally{r.f()}return e.href},d.prototype.reportData=function(){var t=document.createElement("SCRIPT")
t.setAttribute("referrerPolicy","strict-origin-when-cross-origin"),t.setAttribute("async",!0)
var e=this.mountEndpoint()
t.setAttribute("src",e)
var r=document.getElementsByTagName(t.nodeName)[0]
r?r.parentNode.insertBefore(t,r):document.head.appendChild(t)},l.prototype.collectAndFeedAccessData=function(t){var e=this.accessDataService.collectAndParseAccessData()
return this.accessDataService.updateAndSaveAccess(e),this.accessDataService.feedDataToEndpoint(e,t),t},l.prototype.collectAndFeedScreenData=function(t){var e=this.screenDataService.collectAndParseResolutionData(),r=this.screenDataService.collectAndParseViewportData()
return this.screenDataService.feedDataToEndpoint(e,r,t),t},l.prototype.collectAndFeedPageData=function(t){var e=this.pageDataService.collectAndParsePageData()
return this.pageDataService.feedDataToEndpoint(e,t),t},l.prototype.startProcess=function(){var t=new d
t=this.collectAndFeedAccessData(t),t=this.collectAndFeedScreenData(t),(t=this.collectAndFeedPageData(t)).reportData()},function(){(new l).startProcess()}()})()
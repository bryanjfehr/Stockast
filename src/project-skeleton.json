{
  "backend/app/main.py": {
    "dependencies": [
      "fastapi.FastAPI",
      "fastapi.Depends",
      "fastapi.websockets.WebSocket",
      "fastapi.websockets.WebSocketDisconnect",
      "fastapi.middleware.cors.CORSMiddleware",
      "app.api.v1.api.api_router",
      "app.core.config.settings",
      "app.tasks.scheduler",
      "app.services.websocket_manager.manager",
      "app.core.security.get_current_user",
      "app.models.user.User",
      "app.db.session.get_db",
      "app.crud.crud_watchlist",
      "app.services.data_fetcher",
      "asyncio",
      "json",
      "logging",
      "datetime"
    ],
    "symbols": [
      {
        "name": "startup_event",
        "type": "function",
        "signature": "startup_event()",
        "description": "Actions to perform on application startup."
      },
      {
        "name": "shutdown_event",
        "type": "function",
        "signature": "shutdown_event()",
        "description": "Actions to perform on application shutdown."
      },
      {
        "name": "read_root",
        "type": "function",
        "signature": "read_root()",
        "description": "Root endpoint for health checks."
      },
      {
        "name": "websocket_alerts_endpoint",
        "type": "function",
        "signature": "websocket_alerts_endpoint(websocket, current_user)",
        "description": "Handles WebSocket connections for sending trading signal alerts to authenticated users."
      },
      {
        "name": "websocket_realtime_endpoint",
        "type": "function",
        "signature": "websocket_realtime_endpoint(websocket, current_user)",
        "description": "Streams real-time stock data for the user's watchlist."
      }
    ]
  },
  "backend/app/api/v1/api.py": {
    "dependencies": [
      "fastapi.APIRouter",
      "app.api.v1.endpoints.users",
      "app.api.v1.endpoints.stocks",
      "app.api.v1.endpoints.watchlist",
      "app.api.v1.endpoints.simulation",
      "app.api.v1.endpoints.settings"
    ],
    "symbols": []
  },
  "backend/app/api/v1/endpoints/stocks.py": {
    "dependencies": [
      "typing.List",
      "fastapi.APIRouter",
      "fastapi.Depends",
      "fastapi.HTTPException",
      "fastapi.status",
      "sqlalchemy.orm.Session",
      "app.db.session.get_db",
      "app.schemas.stock",
      "app.crud.crud_stock"
    ],
    "symbols": [
      {
        "name": "read_active_stocks",
        "type": "function",
        "signature": "read_active_stocks(db)",
        "description": "Retrieves the 50 most active TSX stocks.\n\nArgs:\n    db (Session): The database session, injected by FastAPI.\n\nReturns:\n    List[stock_schema.StockData]: A list of the 50 most active stocks."
      },
      {
        "name": "read_historical_stock_data",
        "type": "function",
        "signature": "read_historical_stock_data(symbol, db)",
        "description": "Retrieves historical daily data for a given stock symbol.\n\nArgs:\n    symbol (str): The stock symbol to retrieve historical data for.\n    db (Session): The database session, injected by FastAPI.\n\nRaises:\n    HTTPException: If no data is found for the given symbol (status code 404).\n\nReturns:\n    List[stock_schema.StockDataHistorical]: A list of historical data points for the stock."
      }
    ]
  },
  "backend/app/api/v1/endpoints/watchlist.py": {
    "dependencies": [
      "typing.List",
      "fastapi.APIRouter",
      "fastapi.Depends",
      "fastapi.HTTPException",
      "fastapi.status",
      "sqlalchemy.orm.Session",
      "app.db.session.get_db",
      "app.schemas.watchlist",
      "app.crud.crud_watchlist",
      "app.models.user",
      "app.core.security.get_current_user"
    ],
    "symbols": [
      {
        "name": "read_watchlist",
        "type": "function",
        "signature": "read_watchlist(db, current_user)",
        "description": "Retrieve the watchlist for the current authenticated user."
      },
      {
        "name": "add_stock_to_watchlist",
        "type": "function",
        "signature": "add_stock_to_watchlist()",
        "description": "Add a stock to the current user's watchlist."
      },
      {
        "name": "remove_stock_from_watchlist",
        "type": "function",
        "signature": "remove_stock_from_watchlist(symbol, db, current_user)",
        "description": "Remove a stock from the current user's watchlist by symbol."
      }
    ]
  },
  "backend/app/api/v1/endpoints/settings.py": {
    "dependencies": [
      "fastapi.APIRouter",
      "fastapi.Depends",
      "sqlalchemy.orm.Session",
      "app.db.session.get_db",
      "app.schemas.settings",
      "app.crud.crud_user",
      "app.models.user",
      "app.core.security.get_current_user"
    ],
    "symbols": [
      {
        "name": "update_settings",
        "type": "function",
        "signature": "update_settings()",
        "description": "Updates settings for the current authenticated user.\n\nArgs:\n    db (Session): The database session dependency.\n    settings_in (schemas.SettingsUpdate): The settings data to update.\n    current_user (models.User): The current authenticated user dependency.\n\nReturns:\n    dict: A message indicating successful update."
      }
    ]
  },
  "backend/app/api/v1/endpoints/simulation.py": {
    "dependencies": [
      "typing.List",
      "fastapi.APIRouter",
      "fastapi.Depends",
      "fastapi.HTTPException",
      "fastapi.status",
      "sqlalchemy.orm.Session",
      "app.db.session.get_db",
      "app.schemas.simulation",
      "app.crud.crud_simulation",
      "app.models.user",
      "app.core.security.get_current_user",
      "app.services.trade_simulator"
    ],
    "symbols": [
      {
        "name": "start_simulation",
        "type": "function",
        "signature": "start_simulation(simulation_in, db, current_user)",
        "description": "Starts a new trading simulation for the current user.\n\nA user can only have one active simulation at a time."
      },
      {
        "name": "get_simulation_status",
        "type": "function",
        "signature": "get_simulation_status(db, current_user)",
        "description": "Retrieves the status of the user's active simulation, including performance metrics."
      },
      {
        "name": "get_simulation_history",
        "type": "function",
        "signature": "get_simulation_history(db, current_user)",
        "description": "Retrieves the trade history for the user's active simulation."
      }
    ]
  },
  "backend/app/api/v1/endpoints/users.py": {
    "dependencies": [
      "datetime.timedelta",
      "fastapi.APIRouter",
      "fastapi.Depends",
      "fastapi.HTTPException",
      "fastapi.status",
      "fastapi.security.OAuth2PasswordRequestForm",
      "sqlalchemy.orm.Session",
      "app.db.session.get_db",
      "app.schemas.user",
      "app.schemas.token",
      "app.crud.crud_user",
      "app.core.security",
      "app.core.config.settings"
    ],
    "symbols": [
      {
        "name": "register_user",
        "type": "function",
        "signature": "register_user()",
        "description": "Register a new user in the system."
      },
      {
        "name": "login_for_access_token",
        "type": "function",
        "signature": "login_for_access_token(db, form_data)",
        "description": "OAuth2 compatible token login, get an access token for future requests."
      }
    ]
  },
  "backend/app/core/config.py": {
    "dependencies": [
      "pydantic_settings.BaseSettings",
      "typing.Optional"
    ],
    "symbols": [
      {
        "name": "Settings",
        "type": "class",
        "signature": "Settings",
        "description": "Defines application-wide configuration variables.\n\nThese settings are loaded from environment variables or a .env file.\nPydantic provides type validation for these settings."
      },
      {
        "name": "Config",
        "type": "class",
        "signature": "Config",
        "description": "Pydantic model configuration.\n\nSpecifies that settings should be loaded from a .env file and that\nenvironment variable names are case-sensitive."
      }
    ]
  },
  "backend/app/crud/crud_stock.py": {
    "dependencies": [
      "sqlalchemy.orm.Session",
      "typing.List",
      "app.models.stock_data.StockData",
      "app.schemas.stock.StockDataCreate"
    ],
    "symbols": [
      {
        "name": "get_active_stocks",
        "type": "function",
        "signature": "get_active_stocks(db, limit)",
        "description": "Retrieves a list of the most active stocks from the database.\n\nThis function first identifies the most recent data entry for each stock symbol,\nand then sorts these latest entries by trading volume in descending order.\n\nArgs:\n    db (Session): The database session.\n    limit (int): The maximum number of active stocks to return.\n\nReturns:\n    List[StockData]: A list of StockData objects representing the most active stocks."
      },
      {
        "name": "get_historical_data",
        "type": "function",
        "signature": "get_historical_data(db, symbol)",
        "description": "Retrieves all historical data points for a specific stock symbol.\n\nArgs:\n    db (Session): The database session.\n    symbol (str): The stock symbol to retrieve data for.\n\nReturns:\n    List[StockData]: A list of StockData objects for the given symbol, ordered by date."
      },
      {
        "name": "create_or_update_stock_data",
        "type": "function",
        "signature": "create_or_update_stock_data(db)",
        "description": "Creates a new stock data record or updates an existing one.\n\nIt checks for an existing record based on the unique combination of\nsymbol and date. If found, it updates the record; otherwise, it creates a new one.\n\nArgs:\n    db (Session): The database session.\n    stock_data_in (StockDataCreate): The Pydantic schema containing the stock data.\n\nReturns:\n    StockData: The created or updated StockData object."
      }
    ]
  },
  "backend/app/crud/crud_watchlist.py": {
    "dependencies": [
      "sqlalchemy.orm.Session",
      "typing.List",
      "app.models.watchlist.Watchlist",
      "app.schemas.watchlist.WatchlistCreate"
    ],
    "symbols": [
      {
        "name": "CRUDWatchlist",
        "type": "class",
        "signature": "CRUDWatchlist",
        "description": "CRUD operations for user watchlist items."
      },
      {
        "name": "get_multi_by_owner",
        "type": "function",
        "signature": "get_multi_by_owner(self, db)",
        "description": "Retrieves all watchlist items for a specific owner.\n\n:param db: The database session.\n:param owner_id: The ID of the owner.\n:return: A list of watchlist items."
      },
      {
        "name": "get_by_owner_and_symbol",
        "type": "function",
        "signature": "get_by_owner_and_symbol(self, db)",
        "description": "Retrieves a single watchlist item for an owner by stock symbol.\n\n:param db: The database session.\n:param owner_id: The ID of the owner.\n:param symbol: The stock symbol.\n:return: The watchlist item or None if not found."
      },
      {
        "name": "create_with_owner",
        "type": "function",
        "signature": "create_with_owner(self, db)",
        "description": "Creates a new watchlist item associated with an owner.\n\n:param db: The database session.\n:param obj_in: The data for the new watchlist item.\n:param owner_id: The ID of the owner.\n:return: The newly created watchlist item."
      },
      {
        "name": "remove",
        "type": "function",
        "signature": "remove(self, db)",
        "description": "Deletes a watchlist item from the database by its ID.\n\n:param db: The database session.\n:param id: The ID of the watchlist item to delete.\n:return: The deleted watchlist item or None if not found."
      }
    ]
  },
  "backend/app/db/session.py": {
    "dependencies": [
      "sqlalchemy.create_engine",
      "sqlalchemy.orm.sessionmaker",
      "app.core.config.settings"
    ],
    "symbols": [
      {
        "name": "get_db",
        "type": "function",
        "signature": "get_db()",
        "description": "FastAPI dependency to get a database session.\n\nYields a SQLAlchemy session that is automatically closed after the request\nis processed."
      }
    ]
  },
  "backend/app/db/base.py": {
    "dependencies": [
      "sqlalchemy.ext.declarative",
      "app.models.user",
      "app.models.watchlist",
      "app.models.stock_data",
      "app.models.simulation",
      "app.models.article"
    ],
    "symbols": []
  },
  "backend/app/models/watchlist.py": {
    "dependencies": [
      "sqlalchemy.Column",
      "sqlalchemy.Integer",
      "sqlalchemy.String",
      "sqlalchemy.ForeignKey",
      "sqlalchemy.orm.relationship",
      "app.db.base.Base"
    ],
    "symbols": [
      {
        "name": "Watchlist",
        "type": "class",
        "signature": "Watchlist",
        "description": "Represents a single stock entry in a user's watchlist in the database.\n\nAttributes:\n    id (int): The primary key for the watchlist entry.\n    symbol (str): The stock symbol (e.g., 'AAPL').\n    owner_id (int): The foreign key linking to the user who owns this entry.\n    owner (User): The SQLAlchemy relationship to the owner User object."
      }
    ]
  },
  "backend/app/models/stock_data.py": {
    "dependencies": [
      "sqlalchemy.Column",
      "sqlalchemy.Integer",
      "sqlalchemy.String",
      "sqlalchemy.Float",
      "sqlalchemy.Date",
      "sqlalchemy.BigInteger",
      "sqlalchemy.UniqueConstraint",
      "app.db.base.Base"
    ],
    "symbols": [
      {
        "name": "StockData",
        "type": "class",
        "signature": "StockData",
        "description": "Represents historical and daily stock data in the database.\n\nThis model maps to the 'stock_data' table and includes columns for\nstandard stock metrics like open, high, low, close, volume, and price,\nassociated with a specific symbol and date."
      }
    ]
  },
  "backend/app/models/article.py": {
    "dependencies": [
      "sqlalchemy.Column",
      "sqlalchemy.Integer",
      "sqlalchemy.String",
      "sqlalchemy.DateTime",
      "sqlalchemy.JSON",
      "app.db.base.Base"
    ],
    "symbols": [
      {
        "name": "Article",
        "type": "class",
        "signature": "Article",
        "description": "SQLAlchemy model for the 'articles' table.\n\nThis table stores information about news articles related to stocks."
      }
    ]
  },
  "backend/app/models/user.py": {
    "dependencies": [
      "sqlalchemy.Boolean",
      "sqlalchemy.Column",
      "sqlalchemy.Integer",
      "sqlalchemy.String",
      "sqlalchemy.orm.relationship",
      "app.db.base.Base",
      "app.models.watchlist",
      "app.models.simulation"
    ],
    "symbols": [
      {
        "name": "User",
        "type": "class",
        "signature": "User",
        "description": "SQLAlchemy model for a user.\nRepresents the 'users' table in the database."
      }
    ]
  },
  "backend/app/models/simulation.py": {
    "dependencies": [
      "sqlalchemy.Boolean",
      "sqlalchemy.Column",
      "sqlalchemy.Integer",
      "sqlalchemy.String",
      "sqlalchemy.Float",
      "sqlalchemy.ForeignKey",
      "sqlalchemy.DateTime",
      "sqlalchemy.orm.relationship",
      "sqlalchemy.sql.functions.func",
      "app.db.base.Base",
      "app.models.user"
    ],
    "symbols": [
      {
        "name": "Simulation",
        "type": "class",
        "signature": "Simulation",
        "description": "Represents a trading simulation session for a user.\n\nEach simulation has a starting capital, tracks its active status, and is associated\nwith a specific user."
      },
      {
        "name": "Trade",
        "type": "class",
        "signature": "Trade",
        "description": "Represents an individual trade (buy or sell) within a simulation.\n\nEach trade records the stock symbol, action, quantity, price, and timestamp,\nand is linked to a parent simulation."
      }
    ]
  },
  "backend/app/schemas/user.py": {
    "dependencies": [
      "typing.Optional",
      "pydantic.BaseModel",
      "pydantic.EmailStr"
    ],
    "symbols": [
      {
        "name": "UserBase",
        "type": "class",
        "signature": "UserBase",
        "description": "Base schema for a user, containing common attributes."
      },
      {
        "name": "UserInDBBase",
        "type": "class",
        "signature": "UserInDBBase",
        "description": "Base schema for a user as stored in the database, including ID."
      },
      {
        "name": "User",
        "type": "class",
        "signature": "User",
        "description": "Schema for a user object returned from the API.\nThis schema is used for reading user data and excludes sensitive information\nlike the password."
      },
      {
        "name": "UserInDB",
        "type": "class",
        "signature": "UserInDB",
        "description": "Full user schema including the hashed password.\nThis is used for internal operations, like reading the full user object\nfrom the database."
      },
      {
        "name": "UserCreate",
        "type": "class",
        "signature": "UserCreate",
        "description": "Schema for creating a new user. Requires a password."
      },
      {
        "name": "UserUpdate",
        "type": "class",
        "signature": "UserUpdate",
        "description": "Schema for updating a user's information. All fields are optional."
      },
      {
        "name": "ConfigDict",
        "type": "class",
        "signature": "ConfigDict",
        "description": "No docstring."
      }
    ]
  },
  "backend/app/schemas/token.py": {
    "dependencies": [
      "typing.Optional",
      "typing.List",
      "pydantic"
    ],
    "symbols": [
      {
        "name": "Token",
        "type": "class",
        "signature": "Token",
        "description": "Schema for the JWT access token returned upon successful login."
      },
      {
        "name": "TokenData",
        "type": "class",
        "signature": "TokenData",
        "description": "Schema for the data payload encoded within the JWT.\nThis typically maps to the claims within the token."
      }
    ]
  },
  "backend/app/schemas/watchlist.py": {
    "dependencies": [
      "typing.Optional",
      "pydantic.BaseModel"
    ],
    "symbols": [
      {
        "name": "WatchlistBase",
        "type": "class",
        "signature": "WatchlistBase",
        "description": "Base schema for a watchlist item, containing the stock symbol."
      },
      {
        "name": "WatchlistCreate",
        "type": "class",
        "signature": "WatchlistCreate",
        "description": "Schema used when adding a new stock to a user's watchlist."
      },
      {
        "name": "WatchlistUpdate",
        "type": "class",
        "signature": "WatchlistUpdate",
        "description": "Schema for updating a watchlist item. All fields are optional."
      },
      {
        "name": "WatchlistInDBBase",
        "type": "class",
        "signature": "WatchlistInDBBase",
        "description": "Base schema for a watchlist item retrieved from the database, including ID and owner ID."
      },
      {
        "name": "Watchlist",
        "type": "class",
        "signature": "Watchlist",
        "description": "Schema representing a complete watchlist item for API responses."
      }
    ]
  },
  "backend/app/schemas/stock.py": {
    "dependencies": [
      "datetime.date",
      "typing.Optional",
      "pydantic.BaseModel"
    ],
    "symbols": [
      {
        "name": "StockDataBase",
        "type": "class",
        "signature": "StockDataBase",
        "description": "Base schema for stock data, containing common fields.\nFields are optional to accommodate different data sources and use cases."
      },
      {
        "name": "StockDataCreate",
        "type": "class",
        "signature": "StockDataCreate",
        "description": "Schema for creating a new stock data record in the database.\nInherits all fields from StockDataBase."
      },
      {
        "name": "StockData",
        "type": "class",
        "signature": "StockData",
        "description": "Schema for representing a stock data record retrieved from the database.\nIncludes the database ID and is configured for ORM mode."
      },
      {
        "name": "StockDataHistorical",
        "type": "class",
        "signature": "StockDataHistorical",
        "description": "Schema specifically for historical stock data points (OHLCV).\nFields are non-optional as they are expected for historical analysis."
      },
      {
        "name": "Config",
        "type": "class",
        "signature": "Config",
        "description": "Pydantic configuration."
      },
      {
        "name": "Config",
        "type": "class",
        "signature": "Config",
        "description": "Pydantic configuration."
      }
    ]
  },
  "backend/app/schemas/simulation.py": {
    "dependencies": [
      "pydantic.BaseModel",
      "typing.List",
      "typing.Optional",
      "datetime.datetime",
      "datetime.date"
    ],
    "symbols": [
      {
        "name": "TradeBase",
        "type": "class",
        "signature": "TradeBase",
        "description": "Base schema for a single trade, containing common attributes."
      },
      {
        "name": "TradeCreate",
        "type": "class",
        "signature": "TradeCreate",
        "description": "Schema for creating a new trade record. Inherits all fields from TradeBase."
      },
      {
        "name": "TradeHistory",
        "type": "class",
        "signature": "TradeHistory",
        "description": "Schema for a trade record returned from the database, including its ID and timestamp."
      },
      {
        "name": "SimulationBase",
        "type": "class",
        "signature": "SimulationBase",
        "description": "Base schema for a trading simulation, containing its initial capital."
      },
      {
        "name": "SimulationCreate",
        "type": "class",
        "signature": "SimulationCreate",
        "description": "Schema for creating a new simulation. Inherits all fields from SimulationBase."
      },
      {
        "name": "Simulation",
        "type": "class",
        "signature": "Simulation",
        "description": "Schema for a full simulation object, including its trades and metadata."
      },
      {
        "name": "PerformancePoint",
        "type": "class",
        "signature": "PerformancePoint",
        "description": "Schema for a single data point in the simulation's performance history."
      },
      {
        "name": "SimulationStatus",
        "type": "class",
        "signature": "SimulationStatus",
        "description": "Schema for the simulation status and performance metrics returned by the API."
      }
    ]
  },
  "backend/app/schemas/settings.py": {
    "dependencies": [
      "typing.Optional",
      "pydantic.BaseModel"
    ],
    "symbols": [
      {
        "name": "SettingsBase",
        "type": "class",
        "signature": "SettingsBase",
        "description": "Defines the base fields for user settings, such as the Vertex AI API key."
      },
      {
        "name": "SettingsUpdate",
        "type": "class",
        "signature": "SettingsUpdate",
        "description": "Defines the schema for updating user settings.\n\nInherits from SettingsBase. The optional nature of the fields in the base\nclass makes it suitable for update operations where not all fields are provided."
      }
    ]
  },
  "backend/app/services/data_fetcher.py": {
    "dependencies": [
      "aiohttp",
      "typing",
      "app.core.config.settings",
      "logging"
    ],
    "symbols": [
      {
        "name": "fetch_tsx_active_stocks",
        "type": "function",
        "signature": "fetch_tsx_active_stocks()",
        "description": "Fetches a list of the most active TSX stocks from the data provider.\n\nThis function uses a stock screener endpoint to approximate \"most active\"\nby filtering for high-volume stocks on the TSX exchange.\n\nReturns:\n    List[Dict[str, Any]]: A list of dictionaries, each representing an\n                           active stock. Returns an empty list on failure."
      },
      {
        "name": "fetch_historical_daily_data",
        "type": "function",
        "signature": "fetch_historical_daily_data(symbol)",
        "description": "Fetches historical daily data for a given stock symbol on the TSX.\n\nArgs:\n    symbol (str): The stock symbol (e.g., \"RY\" for Royal Bank). The function\n                  will append the necessary exchange suffix.\n\nReturns:\n    List[Dict[str, Any]]: A list of dictionaries, each representing a day's\n                           historical data. Returns an empty list on failure."
      },
      {
        "name": "fetch_realtime_quote",
        "type": "function",
        "signature": "fetch_realtime_quote(symbol)",
        "description": "Fetches the latest real-time price quote for a single stock symbol on the TSX.\n\nArgs:\n    symbol (str): The stock symbol (e.g., \"BCE\" for Bell Canada).\n\nReturns:\n    Dict[str, Any]: A dictionary containing the real-time quote data.\n                    Returns an empty dictionary on failure or if not found."
      }
    ]
  },
  "backend/app/services/websocket_manager.py": {
    "dependencies": [
      "fastapi.websockets.WebSocket",
      "fastapi.websockets.WebSocketDisconnect",
      "typing.Dict",
      "asyncio",
      "logging"
    ],
    "symbols": [
      {
        "name": "ConnectionManager",
        "type": "class",
        "signature": "ConnectionManager",
        "description": "Manages user-specific WebSocket connections."
      },
      {
        "name": "connect",
        "type": "function",
        "signature": "connect(self, websocket, user_id)",
        "description": "Accepts and stores a new WebSocket connection for a specific user."
      },
      {
        "name": "disconnect",
        "type": "function",
        "signature": "disconnect(self, user_id)",
        "description": "Removes a WebSocket connection for a specific user."
      },
      {
        "name": "send_personal_message",
        "type": "function",
        "signature": "send_personal_message(self, message, user_id)",
        "description": "Sends a message to a single user's WebSocket connection."
      },
      {
        "name": "broadcast",
        "type": "function",
        "signature": "broadcast(self, message)",
        "description": "Broadcasts a message to all active WebSocket connections."
      }
    ]
  },
  "backend/app/services/signal_generator.py": {
    "dependencies": [
      "pandas",
      "talib",
      "sqlalchemy.orm.Session",
      "app.crud.crud_stock",
      "typing.List",
      "app.models.stock_data",
      "logging"
    ],
    "symbols": [
      {
        "name": "calculate_technical_indicators",
        "type": "function",
        "signature": "calculate_technical_indicators(historical_data)",
        "description": "Calculates technical indicators like RSI and MACD on historical stock data.\n\nArgs:\n    historical_data: DataFrame with 'close', 'high', 'low', 'volume' columns.\n\nReturns:\n    DataFrame with added technical indicator columns."
      },
      {
        "name": "generate_signals",
        "type": "function",
        "signature": "generate_signals(data_with_indicators)",
        "description": "Analyzes technical indicators to generate 'BULLISH' or 'BEARISH' signals.\n\nArgs:\n    data_with_indicators: DataFrame containing technical indicator columns.\n\nReturns:\n    A dictionary containing the signal type and the reason."
      },
      {
        "name": "process_stock_for_signals",
        "type": "function",
        "signature": "process_stock_for_signals(db, symbol)",
        "description": "Orchestrates fetching data, calculating indicators, and generating signals for a stock.\n\nArgs:\n    db: The database session.\n    symbol: The stock symbol to process.\n\nReturns:\n    A dictionary containing the signal, reason, and symbol."
      }
    ]
  },
  "backend/app/services/alert_service.py": {
    "dependencies": [
      "sqlalchemy.orm.Session",
      "app.services.websocket_manager.ConnectionManager",
      "app.services.signal_generator",
      "app.crud.crud_watchlist",
      "app.crud.crud_user",
      "logging",
      "asyncio",
      "json",
      "datetime"
    ],
    "symbols": [
      {
        "name": "check_for_alerts",
        "type": "function",
        "signature": "check_for_alerts(db, websocket_manager)",
        "description": "Iterates through user watchlists, generates signals, and sends alerts via WebSocket.\n\nThis function is intended to be run periodically as a background task.\n\nArgs:\n    db (Session): The database session.\n    websocket_manager (ConnectionManager): The WebSocket connection manager."
      }
    ]
  },
  "backend/app/services/trade_simulator.py": {
    "dependencies": [
      "typing.List",
      "typing.Dict",
      "datetime.datetime",
      "datetime.date",
      "datetime.timedelta",
      "sqlalchemy.orm.Session",
      "app.models.simulation",
      "app.schemas.simulation",
      "app.crud.crud_stock",
      "logging"
    ],
    "symbols": [
      {
        "name": "calculate_performance_history",
        "type": "function",
        "signature": "calculate_performance_history(db, simulation, trades)",
        "description": "Generates a time-series of portfolio values for performance charting.\n\nArgs:\n    db: The database session.\n    simulation: The simulation object.\n    trades: A list of all trades executed in the simulation.\n\nReturns:\n    A list of PerformancePoint objects representing the portfolio value over time."
      },
      {
        "name": "calculate_simulation_metrics",
        "type": "function",
        "signature": "calculate_simulation_metrics(simulation, trades, current_prices, db)",
        "description": "Calculates the current status, P&L, and performance history of a simulation.\n\nArgs:\n    simulation: The simulation database model.\n    trades: A list of all trades for the simulation.\n    current_prices: A dictionary mapping stock symbols to their current market price.\n    db: The database session.\n\nReturns:\n    A SimulationStatus schema object with the calculated metrics."
      }
    ]
  },
  "backend/app/services/vertex_ai_tuner.py": {
    "dependencies": [
      "google.cloud.aiplatform",
      "pandas",
      "app.models.user",
      "app.core.config.settings",
      "logging",
      "os",
      "tempfile"
    ],
    "symbols": [
      {
        "name": "get_vertex_ai_client",
        "type": "function",
        "signature": "get_vertex_ai_client(api_key_content)",
        "description": "Initializes the Vertex AI client using a user's API key content.\n\nThis function securely handles the API key by writing it to a temporary\nfile and setting the GOOGLE_APPLICATION_CREDENTIALS environment variable\nfor the scope of the operation.\n\nArgs:\n    api_key_content: The JSON content of the Google Cloud service account key.\n\nReturns:\n    The initialized google.cloud.aiplatform module.\n\nRaises:\n    HTTPException: If project ID or location are not configured."
      },
      {
        "name": "tune_signal_parameters",
        "type": "function",
        "signature": "tune_signal_parameters(historical_data, user)",
        "description": "Uses Vertex AI hyperparameter tuning to find optimal parameters for a signal generator.\n\nNOTE: This is a placeholder implementation. The actual parameter spec, metric,\nand training container must be configured based on the specific model.\n\nArgs:\n    historical_data: A DataFrame containing historical stock data.\n    user: The user object containing the Vertex AI API key.\n\nReturns:\n    A dictionary of the optimal parameters found by the tuning job.\n\nRaises:\n    HTTPException: If the user's API key is missing or if the tuning job fails."
      },
      {
        "name": "get_ai_generated_forecast",
        "type": "function",
        "signature": "get_ai_generated_forecast(historical_data, user)",
        "description": "Uses a deployed Vertex AI model to generate a stock price forecast.\n\nArgs:\n    historical_data: A DataFrame of recent stock data for prediction input.\n    user: The user object containing the Vertex AI API key.\n\nReturns:\n    A dictionary containing the forecast data.\n\nRaises:\n    HTTPException: If the API key is missing, the model is not found, or prediction fails."
      },
      {
        "name": "DummyAiplatform",
        "type": "class",
        "signature": "DummyAiplatform",
        "description": "No docstring."
      },
      {
        "name": "init",
        "type": "function",
        "signature": "init(self)",
        "description": "No docstring."
      },
      {
        "name": "HyperparameterTuningJob",
        "type": "function",
        "signature": "HyperparameterTuningJob(self)",
        "description": "No docstring."
      },
      {
        "name": "Model",
        "type": "function",
        "signature": "Model(self)",
        "description": "No docstring."
      },
      {
        "name": "hyperparameter_tuning",
        "type": "class",
        "signature": "hyperparameter_tuning",
        "description": "No docstring."
      },
      {
        "name": "DoubleParameterSpec",
        "type": "class",
        "signature": "DoubleParameterSpec",
        "description": "No docstring."
      },
      {
        "name": "IntegerParameterSpec",
        "type": "class",
        "signature": "IntegerParameterSpec",
        "description": "No docstring."
      }
    ]
  },
  "backend/app/tasks/jobs.py": {
    "dependencies": [
      "app.services.data_fetcher",
      "app.crud.crud_stock",
      "app.schemas.stock",
      "app.services.alert_service",
      "app.services.websocket_manager",
      "app.db.session.get_db",
      "logging",
      "asyncio"
    ],
    "symbols": [
      {
        "name": "update_stock_data_job",
        "type": "function",
        "signature": "update_stock_data_job()",
        "description": "Asynchronous job to fetch the latest active stock data and update the database."
      },
      {
        "name": "check_alerts_job",
        "type": "function",
        "signature": "check_alerts_job(websocket_manager)",
        "description": "Asynchronous job to check for new trading signals and send alerts to connected users.\n\nArgs:\n    websocket_manager (WebsocketManager): The manager for handling websocket connections."
      }
    ]
  },
  "backend/app/tasks/scheduler.py": {
    "dependencies": [
      "apscheduler.schedulers.asyncio.AsyncIOScheduler",
      "app.tasks.jobs",
      "app.services.websocket_manager",
      "logging"
    ],
    "symbols": [
      {
        "name": "start_scheduler",
        "type": "function",
        "signature": "start_scheduler()",
        "description": "Initializes the scheduler, adds jobs, and starts it.\n\nThis function is designed to be called once at application startup.\nIt schedules periodic tasks for updating stock data and checking alerts."
      },
      {
        "name": "shutdown_scheduler",
        "type": "function",
        "signature": "shutdown_scheduler()",
        "description": "Shuts down the scheduler gracefully if it is running.\n\nThis function is intended to be called during application shutdown."
      }
    ]
  },
  "frontend/package.json": {
    "dependencies": [
      "@emotion/react",
      "@emotion/styled",
      "axios",
      "jwt-decode",
      "react",
      "react-dom",
      "react-router-dom",
      "recharts",
      "react-scripts"
    ],
    "symbols": []
  },
  "frontend/src/index.js": {
    "dependencies": [
      "react",
      "react-dom/client",
      "react-router-dom",
      "./App",
      "./contexts/AuthContext",
      "./contexts/WebSocketContext",
      "./styles/main.css"
    ],
    "symbols": []
  },
  "frontend/src/App.js": {
    "dependencies": [
      "react",
      "react-router-dom",
      "./hooks/useAuth",
      "./pages/DashboardPage",
      "./pages/LoginPage",
      "./pages/SimulationPage",
      "./pages/SettingsPage",
      "./components/common/Navbar",
      "./components/common/Footer",
      "./components/common/AlertPopup"
    ],
    "symbols": [
      {
        "name": "App",
        "type": "function",
        "signature": "App()",
        "description": "N/A"
      },
      {
        "name": "ProtectedRoute",
        "type": "component",
        "signature": "ProtectedRoute({ children })",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/api/authApi.js": {
    "dependencies": [
      "axios"
    ],
    "symbols": []
  },
  "frontend/src/api/stockApi.js": {
    "dependencies": [
      "axios"
    ],
    "symbols": []
  },
  "frontend/src/api/watchlistApi.js": {
    "dependencies": [
      "axios"
    ],
    "symbols": []
  },
  "frontend/src/api/simulationApi.js": {
    "dependencies": [
      "axios"
    ],
    "symbols": []
  },
  "frontend/src/api/settingsApi.js": {
    "dependencies": [
      "axios"
    ],
    "symbols": []
  },
  "frontend/src/components/common/Footer.js": {
    "dependencies": [
      "react"
    ],
    "symbols": [
      {
        "name": "Footer",
        "type": "component",
        "signature": "Footer()",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/components/common/Navbar.js": {
    "dependencies": [
      "react",
      "react-router-dom",
      "../../hooks/useAuth"
    ],
    "symbols": [
      {
        "name": "Navbar",
        "type": "component",
        "signature": "Navbar()",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/components/common/AlertPopup.js": {
    "dependencies": [
      "react",
      "../../hooks/useWebSocket"
    ],
    "symbols": [
      {
        "name": "formatTimestamp",
        "type": "component",
        "signature": "formatTimestamp(timestamp)",
        "description": "N/A"
      },
      {
        "name": "AlertPopup",
        "type": "component",
        "signature": "AlertPopup()",
        "description": "N/A"
      },
      {
        "name": "handleClose",
        "type": "component",
        "signature": "handleClose(alertId)",
        "description": "N/A"
      },
      {
        "name": "getSignalStyle",
        "type": "component",
        "signature": "getSignalStyle(signalType)",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/components/dashboard/ActiveStocksTable.js": {
    "dependencies": [
      "react",
      "../../api/stockApi.js"
    ],
    "symbols": [
      {
        "name": "ActiveStocksTable",
        "type": "component",
        "signature": "ActiveStocksTable()",
        "description": "N/A"
      },
      {
        "name": "getChangeStyle",
        "type": "component",
        "signature": "getChangeStyle(value)",
        "description": "N/A"
      },
      {
        "name": "renderContent",
        "type": "component",
        "signature": "renderContent()",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/components/dashboard/SignalAlerts.js": {
    "dependencies": [
      "react",
      "../../hooks/useWebSocket"
    ],
    "symbols": [
      {
        "name": "formatTimestamp",
        "type": "component",
        "signature": "formatTimestamp(timestamp)",
        "description": "N/A"
      },
      {
        "name": "SignalAlerts",
        "type": "component",
        "signature": "SignalAlerts()",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/components/dashboard/Watchlist.js": {
    "dependencies": [
      "react",
      "../../api/watchlistApi.js",
      "../../hooks/useAuth.js",
      "../../hooks/useWebSocket.js"
    ],
    "symbols": [
      {
        "name": "Watchlist",
        "type": "component",
        "signature": "Watchlist()",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/components/settings/ApiKeyInput.js": {
    "dependencies": [
      "react",
      "../../api/settingsApi.js",
      "../../hooks/useAuth.js"
    ],
    "symbols": [
      {
        "name": "ApiKeyInput",
        "type": "component",
        "signature": "ApiKeyInput()",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/components/simulation/SimulationPerformanceChart.js": {
    "dependencies": [],
    "symbols": [
      {
        "name": "formatXAxisTick",
        "type": "component",
        "signature": "formatXAxisTick(tickItem)",
        "description": "N/A"
      },
      {
        "name": "formatYAxisTick",
        "type": "component",
        "signature": "formatYAxisTick(tickItem)",
        "description": "N/A"
      },
      {
        "name": "SimulationPerformanceChart",
        "type": "component",
        "signature": "SimulationPerformanceChart({ performanceHistory })",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/components/simulation/TradeHistoryTable.js": {
    "dependencies": [
      "react"
    ],
    "symbols": [
      {
        "name": "formatTimestamp",
        "type": "component",
        "signature": "formatTimestamp(timestamp)",
        "description": "N/A"
      },
      {
        "name": "TradeHistoryTable",
        "type": "component",
        "signature": "TradeHistoryTable({ tradeHistory })",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/components/simulation/SimulationSetupForm.js": {
    "dependencies": [
      "react",
      "../../api/simulationApi",
      "../../hooks/useAuth"
    ],
    "symbols": [
      {
        "name": "SimulationSetupForm",
        "type": "component",
        "signature": "SimulationSetupForm({ onSimulationStart })",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/contexts/AuthContext.js": {
    "dependencies": [
      "react",
      "axios",
      "jwt-decode",
      "../api/authApi.js"
    ],
    "symbols": [
      {
        "name": "AuthProvider",
        "type": "component",
        "signature": "AuthProvider({ children })",
        "description": "N/A"
      },
      {
        "name": "AuthProvider",
        "type": "component",
        "signature": "AuthProvider({ children })",
        "description": "N/A"
      },
      {
        "name": "logout",
        "type": "component",
        "signature": "logout()",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/contexts/WebSocketContext.js": {
    "dependencies": [
      "react",
      "../../hooks/useAuth",
      "../../services/socketService"
    ],
    "symbols": [
      {
        "name": "WebSocketProvider",
        "type": "component",
        "signature": "WebSocketProvider({ children })",
        "description": "N/A"
      },
      {
        "name": "WebSocketProvider",
        "type": "component",
        "signature": "WebSocketProvider({ children })",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/hooks/useAuth.js": {
    "dependencies": [
      "react",
      "../contexts/AuthContext"
    ],
    "symbols": [
      {
        "name": "useAuth",
        "type": "component",
        "signature": "useAuth()",
        "description": "N/A"
      },
      {
        "name": "useAuth",
        "type": "component",
        "signature": "useAuth()",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/hooks/useWebSocket.js": {
    "dependencies": [
      "react",
      "../contexts/WebSocketContext"
    ],
    "symbols": [
      {
        "name": "useWebSocket",
        "type": "component",
        "signature": "useWebSocket()",
        "description": "N/A"
      },
      {
        "name": "useWebSocket",
        "type": "component",
        "signature": "useWebSocket()",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/pages/LoginPage.js": {
    "dependencies": [
      "react",
      "react-router-dom",
      "../hooks/useAuth"
    ],
    "symbols": [
      {
        "name": "LoginPage",
        "type": "component",
        "signature": "LoginPage()",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/pages/DashboardPage.js": {
    "dependencies": [
      "react",
      "../components/dashboard/ActiveStocksTable",
      "../components/dashboard/Watchlist",
      "../components/dashboard/SignalAlerts"
    ],
    "symbols": [
      {
        "name": "DashboardPage",
        "type": "component",
        "signature": "DashboardPage()",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/pages/SimulationPage.js": {
    "dependencies": [
      "react",
      "../../api/simulationApi",
      "../../hooks/useAuth",
      "../../components/simulation/SimulationSetupForm",
      "../../components/simulation/SimulationPerformanceChart",
      "../../components/simulation/TradeHistoryTable"
    ],
    "symbols": [
      {
        "name": "SimulationPage",
        "type": "component",
        "signature": "SimulationPage()",
        "description": "N/A"
      },
      {
        "name": "handleSimulationStart",
        "type": "component",
        "signature": "handleSimulationStart(newSimulationResponse)",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/pages/SettingsPage.js": {
    "dependencies": [
      "react",
      "react-router-dom",
      "../components/settings/ApiKeyInput",
      "../hooks/useAuth"
    ],
    "symbols": [
      {
        "name": "SettingsPage",
        "type": "component",
        "signature": "SettingsPage()",
        "description": "N/A"
      }
    ]
  },
  "frontend/src/services/socketService.js": {
    "dependencies": [],
    "symbols": [
      {
        "name": "createSocket",
        "type": "component",
        "signature": "createSocket(endpoint, token, { onOpen, onMessage, onError, onClose })",
        "description": "N/A"
      },
      {
        "name": "closeSocket",
        "type": "component",
        "signature": "closeSocket(socket)",
        "description": "N/A"
      },
      {
        "name": "createSocket",
        "type": "component",
        "signature": "createSocket(endpoint, token, { onOpen, onMessage, onError, onClose })",
        "description": "N/A"
      },
      {
        "name": "closeSocket",
        "type": "component",
        "signature": "closeSocket(socket)",
        "description": "N/A"
      }
    ]
  }
}